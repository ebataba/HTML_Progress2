<html>
<head>
   <meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
   <title>Progress Generator wizard usage </title>
   <link href="book.css" rel="stylesheet" type="text/css">
   <meta content="DocBook XSL Stylesheets V1.69.1" name="generator">
   <link href="index.html" rel="start" title="HTML_Progress2 Manual">
   <link href="ch19.html" rel="up" title="Chapter 19. Examples">
   <link href="ch19s05.html" rel="prev" title="Monitoring usage ">
</head>
<body alink="#0000FF" bgcolor="white" link="#0000FF" text="black" vlink="#840084">
<table class="qfamsHeader">
   <tr>
      <td><img align="left" alt="PEAR Progress2 logo" src="img/pear_progress2.gif">
         <h1>HTML_Progress2 : The Definitive Guide</h1>

         <p>
         <div class="navheader">
            <table summary="Navigation header" width="100%">
               <tr>
                  <th align="center" colspan="3">Progress Generator wizard usage </th>
               </tr>
               <tr>
                  <td align="left" width="20%"><a accesskey="p" href="ch19s05.html">Prev</a> </td>
                  <th align="center" width="60%">Chapter 19. Examples</th><td align="right" width="20%"> </td>
               </tr>
            </table>
         </div></p>
      </td>
   </tr>
</table>
<div class="sect1" lang="en"><div class="titlepage"><div><div>
            <h2 class="title" style="clear: both">
            <a name="examples.generator"></a>Progress Generator wizard usage </h2>
         </div>
      </div>
   </div>
   <div class="toc">
      <dl><dt><span class="sect2"><a href="ch19s06.html#examples.generator.1"></a></span></dt>
      </dl>
   </div>
   <div class="sect2" lang="en"><div class="titlepage"></div>

      <p></p>
      <div class="figure"><a name="id4838402"></a>

         <p class="title"><b>Figure 19.6. Progress Generator wizard usage 
         </b></p><div class="screenshot"><div><img alt="Progress Generator wizard usage" src="img/generator21.png"></div>
         </div>
      </div>

      <p></p>

      <p>Goals of this example are to show how to use another driver (HTMLPage2) than the standard (Default), use another external stylesheet to change color scheme easily, and add a user-process to download the PHP/CSS code results. </p>

      <p>HTMLPage2 driver used its own default stylesheet which is a blue skin. Here, we prefer to use the dark-grey skin of SmartyDynamic driver (see $css). </p>

      <p></p>
      <div class="example"><a name="id4838316"></a>

         <p class="title"><b>Example 19.6. Progress Generator build with PEAR::HTML_Page2 
         </b></p>
<pre class="programlisting">
      
&lt;?php
require_once 'HTML/Progress2/Generator.php';
require_once 'HTML/Progress2/Generator/HTMLPage2.php';
require_once 'HTML/Progress2/Generator/Process.php';

class MyProcessHandler extends ActionProcess
{
    function perform(&amp;$page, $actionName)
    {
        if ($actionName == 'cancel') {
            echo '&lt;h1&gt;Progress2 Generator Demonstration is Over&lt;/h1&gt;';
            echo '&lt;p&gt;Hope you\'ve enjoyed. See you later!&lt;/p&gt;';
        } else {
            // Checks whether the pages of the controller are valid
            $page-&gt;isFormBuilt() or $page-&gt;buildForm();
            $page-&gt;controller-&gt;isValid();

            // what kind of source code is requested
            $code = $page-&gt;exportValue('phpcss');
            $pb = $page-&gt;controller-&gt;createProgressBar();

            $phpCode = (isset($code['P']) === true);
            $cssCode = (isset($code['C']) === true);

            if ($cssCode &amp;&amp; !$phpCode) {
                $strCSS = $this-&gt;sprintCSS($pb);
                $this-&gt;exportOutput($strCSS, 'text/css');
            }
            if ($phpCode) {
                $strPHP = $this-&gt;sprintPHP($pb, $cssCode);
                $this-&gt;exportOutput($strPHP, 'text/php');
            }

            // reset session data
            $page-&gt;controller-&gt;container(true);
        }
    }
}

session_start();

$tabbed =&amp; HTML_Progress2_Generator::singleton();

$tabbed-&gt;addActions(array('dump' =&gt; 'ActionDump', 'process' =&gt; 'MyProcessHandler'));

$pear = 'c:\php4';
$css  = $pear . '\pear\data\HTML_Progress2\smartydynamic.css';
$tabbed-&gt;addAction('display', new ActionDisplay($css));

$tabbed-&gt;run();
?&gt;
      
     </pre>
      </div>

      <p></p>

      <p></p>
      <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
         <table border="0" summary="Caution">
            <tr>
               <td align="center" rowspan="2" valign="top" width="48px"><img alt="[Caution]" src="img/admons/caution.png"></td>
               <th align="left">Caution</th>
            </tr>
            <tr>
               <td align="left" valign="top"> Of course you should fix the path of $pear to your own PEAR directory installation. 
               </td>
            </tr>
         </table>
      </div>

      <p></p>
   </div>
</div>
<table class="qfamsFooter">
   <tr>
      <td align="left">HTML_Progress2 : The Definitive Guide</td>
      <td align="right">v 2.1.0 : August 12, 2006</td>
   </tr>
</table>
<div class="navfooter"><hr>
   <table summary="Navigation footer" width="100%">
      <tr>
         <td align="left" width="40%"><a accesskey="p" href="ch19s05.html">Prev</a> </td>
         <td align="center" width="20%"><a accesskey="u" href="ch19.html">Up</a></td>
         <td align="right" width="40%"> </td>
      </tr>
      <tr>
         <td align="left" valign="top" width="40%">Monitoring usage  </td>
         <td align="center" width="20%"><a accesskey="h" href="index.html">Home</a></td>
         <td align="right" valign="top" width="40%"> </td>
      </tr>
   </table>
</div>
</body>
</html> 
